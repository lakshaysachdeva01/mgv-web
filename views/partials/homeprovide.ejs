<section class="provide home-2">
    <div class="bg-section">
        <div class="overlay overlay-3"></div>
    </div>
    <div class="container">
        <div class="sec-title home-2">
            <div class="row">
                <div class="col-lg-5">
                    <h3>Powering Progress Through Quality and Trust</h3>
                </div>
                <div class="col-lg-5 d-flex align-items-center">
                    <p class="sec-explain">We combine experience, reliability, and strong supplier networks to deliver excellence in every shipment.</p>
                </div>
            </div>
        </div>
        <div class="provide-core-list">
            <div class="row">
                <div class="col-md-6 col-lg-3">
                    <div style="min-height: 232px;" class="provide-core-list-item">
                        <i class="ar-icons-idea"></i>
                        <div class="item-content-box">
                            <h4> 30+ Years of Group Legacy</h4>
                            <p> Backed by three decades of industrial experience and global trade expertise.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="provide-core-list-item">
                        <i class=" ar-icons-foreman"></i>
                        <div class="item-content-box">
                            <h4>Dedicated Team & Global Network</h4>
                            <p>Professionals ensuring precision, communication, and compliance at every level.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="provide-core-list-item">
                        <i class="ar-icons-electricity"></i>
                        <div class="item-content-box">
                            <h4> Certified and Compliant Supplies</h4>
                            <p> All our products meet international engineering and safety standards.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="provide-core-list-item">
                        <i class="ar-icons-forklift"></i>
                        <div class="item-content-box">
                            <h4>Sustainable Sourcing & Technology</h4>
                            <p> Committed to environmental responsibility through efficient and ethical supply practices.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- :: Qoute Box -->
        <div class="quote-box">
            <div class="row">
                <div class="col-lg-4">
                    <!-- :: Map -->
                    <div class="map-box">
                        <iframe src="https://maps.google.com/maps?q=manhatan&t=&z=13&ie=UTF8&iwloc=&output=embed"></iframe>
                    </div>
                </div>
                <div class="col-lg-8">
                    <div class="sec-title home-2">
                        <h3> Connect With Us for Global Supply Solutions </h3>
                        <p class="sec-explain">Partner with Magic Global Ventures for your next industrial, engineering, or construction requirement. Our team ensures reliable sourcing, transparent pricing, and timely delivery â€” every time.</p>
                    </div>
                    <form id="contactForm" class="form-contact">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="quote-item">
                                    <input type="text" name="<%= CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.name %>" placeholder="Name" required="">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="quote-item">
                                    <input type="email" name="<%= CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.email %>"  placeholder="Email" required="">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="quote-item">
                                    <input type="tel"  placeholder="Phone"                                                     required 
                                    name="<%= CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone %>"
                                    pattern="[0-9]{10}" 
                                    title="Please enter a valid 10-digit phone number"
                                    maxlength="10"
                                    minlength="10"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="quote-item">
                                    <input type="text" name="<%= CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.country %>" placeholder="Country" required="">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="quote-item">
                                    <div class="quote-item">
                                        <input type="text" name="<%= CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.address %>" placeholder="City" required="">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="quote-item">
                                    <div class="quote-item">
                                        <textarea name="<%= CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks %>" placeholder="Message Details!" required=""></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="quote-item">
                                    <button class="btn-1 btn-3 submit" type="submit"><span>Submit Request</span></button>
                                   
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // Listen for form submission
    document.getElementById('contactForm').addEventListener('submit', async function (e) { 
        e.preventDefault(); // Prevent the default form submission
    
        try {
            const API_BASE_URL = "<%= API_BASE_URL %>";
            const websiteID = "<%= websiteID %>";
            const WEBSITEIDKEY = "<%= WEBSITE_ID_KEY %>";
            const CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS = <%- JSON.stringify(CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS) %>;
    
            const CREATE_CONTACT_ENQUIRY_END_POINT = `${API_BASE_URL}/website/contact-enquiry/create-contact-enquiry`;
    
            const contactForm = e.target; // Reference to the form element
            const WEBSITE_ID_KEY = WEBSITEIDKEY;
    
            // Prepare the payload from the form fields
            const payload = {
                [CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.name]: contactForm.querySelector(
                    `input[name="${CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.name}"]`
                ).value,
                [CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone]: contactForm.querySelector(
                    `input[name="${CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.phone}"]`
                ).value,
                [CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.email]: contactForm.querySelector(
                    `input[name="${CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.email}"]`
                ).value,
                [CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.address]: contactForm.querySelector(
                    `input[name="${CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.address}"]`
                ).value,
                [CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.country]: contactForm.querySelector(
                    `input[name="${CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.country}"]`
                ).value,
                [CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks]: contactForm.querySelector(
                    `textarea[name="${CONTACT_ENQUIRY_DYNAMIC_FIELDS_KEYS.remarks}"]`
                ).value,
                [WEBSITE_ID_KEY]: websiteID,
            };
    
            // Set headers for the request
            const headers = new Headers({
                "Content-Type": "application/json",
            });
    
            // Send POST request to the API
            const response = await fetch(CREATE_CONTACT_ENQUIRY_END_POINT, {
                method: "POST",
                headers,
                body: JSON.stringify(payload),
            });
    
            // Handle response
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
    
            const data = await response.json();
    
            // Redirect to the thank-you page on success
            sessionStorage.setItem("thankYouMessage", "We've Recieved Your Message and will Contact you soon.");
            window.location.href = "/thankyou";
        } catch (error) {
            console.error("Form submission error", error);
            // Optionally, you can show an error message or log the error
        }
    });
    
            
            </script>